<div class="save-design-dialog p-3">
  <h2 mat-dialog-title class="dialog-title">
    <mat-icon class="title-icon">save</mat-icon>
    {{ data.mode === 'create' ? 'Save New Design' : 'Update Design' }}
  </h2>

  <form [formGroup]="designForm" (ngSubmit)="onSave()">
    <mat-dialog-content class="dialog-content">
      <mat-form-field class="full-width" appearance="outline">
        <mat-label>Design Name</mat-label>
        <input 
          matInput 
          formControlName="name" 
          placeholder="Enter design name"
          maxlength="50">
        <mat-hint>{{ designForm.get('name')?.value?.length || 0 }}/50</mat-hint>
        <mat-error *ngIf="designForm.get('name')?.hasError('required')">
          Name is required
        </mat-error>
        <mat-error *ngIf="designForm.get('name')?.hasError('minlength')">
          Minimum 2 characters required
        </mat-error>
      </mat-form-field>

      <mat-form-field class="full-width" appearance="outline">
        <mat-label>Description (Optional)</mat-label>
        <textarea 
          matInput 
          formControlName="description"
          placeholder="Add design description"
          rows="3"
          maxlength="200">
        </textarea>
        <mat-hint>{{ designForm.get('description')?.value?.length || 0 }}/200</mat-hint>
      </mat-form-field>
    </mat-dialog-content>

    <mat-dialog-actions class="dialog-actions">
      <button 
        mat-button 
        type="button" 
        (click)="onCancel()"
        class="cancel-button">
        Cancel
      </button>
      
      <button 
        mat-raised-button 
        color="primary" 
        type="submit"
        [disabled]="designForm.invalid || isLoading"
        class="save-button">
        <mat-icon *ngIf="isLoading" class="loading-icon">hourglass_empty</mat-icon>
        <span *ngIf="!isLoading">
          {{ data.mode === 'create' ? 'Save' : 'Update' }}
        </span>
        <span *ngIf="isLoading">
          {{ data.mode === 'create' ? 'Saving...' : 'Updating...' }}
        </span>
      </button>
    </mat-dialog-actions>
  </form>
</div>